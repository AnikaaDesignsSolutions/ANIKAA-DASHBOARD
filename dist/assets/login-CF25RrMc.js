import{r as a,u as h,cQ as f,j as e,B as j,cR as b,i as y}from"./index-JPne9CEF.js";import{a as p,M as w}from"./index.esm-duCv3Qe7.js";import{S as u,L as N}from"./login-layout-BzR57Q1T.js";import{C as v}from"./index-CGO0cPyz.js";import{S}from"./index-B7WhEIZx.js";import"./index-qr1gExzI.js";const E=({toResetPassword:s})=>{const[t,r]=a.useState(!1),{register:l,handleSubmit:n,reset:o}=p(),c=h(),i=f(),m=d=>{i.mutate(d,{onSuccess:()=>{c("/a/orders")},onError:()=>{r(!0),o()}})};return e.jsx("form",{onSubmit:n(m),children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"inter-2xlarge-semibold mt-4 text-grey-90",children:"Welcome back!"}),e.jsx("span",{className:"inter-base-regular text-grey-50 mt-2",children:"It's great to see you 👋🏼"}),e.jsx("span",{className:"inter-base-regular text-grey-50 mb-xlarge",children:"Log in to your account below"}),e.jsx(u,{placeholder:"Email...",...l("email",{required:!0}),autoComplete:"email"}),e.jsx(u,{placeholder:"Password...",type:"password",...l("password",{required:!0}),autoComplete:"current-password"}),t&&e.jsx("span",{className:"text-rose-50 w-full mt-2 inter-small-regular",children:"These credentials do not match our records"}),e.jsx(j,{className:"rounded-rounded mt-4 w-[320px] inter-base-regular",variant:"primary",size:"large",type:"submit",loading:i.isLoading,children:"Continue"}),e.jsx("span",{className:"inter-small-regular text-grey-50 mt-8 cursor-pointer",onClick:s,children:"Reset password"})]})})},C=/^\S+@\S+$/i,L=({goBack:s})=>{const[t,r]=a.useState(!1),[l,n]=a.useState(!1),[o,c]=a.useState(!1),{register:i,handleSubmit:m}=p(),d=b(),g=x=>{if(!C.test(x.email)){n(!0);return}n(!1),r(!1),d.mutate({email:x.email},{onSuccess:()=>{c(!0)},onError:()=>{r(!0)}})};return e.jsx("form",{onSubmit:m(g),children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"inter-2xlarge-semibold mt-base text-grey-90",children:"Reset your password"}),e.jsxs("span",{className:"inter-base-regular text-grey-50 mt-xsmall text-center",children:["Enter your email address below, and we'll send you",e.jsx("br",{}),"instructions on how to reset your password."]}),o?e.jsxs("div",{className:"text-violet-60 rounded-rounded bg-violet-10 p-base flex gap-x-small mt-large",children:[e.jsx("div",{children:e.jsx(v,{size:20})}),e.jsxs("div",{className:"flex flex-col gap-y-2xsmall",children:[e.jsx("span",{className:"inter-small-semibold",children:"Succesfully sent you an email"}),e.jsx("span",{className:"inter-small-regular",children:"We've sent you an email which you can use to reset your password. Check your spam folder if you haven't received it after a few minutes."})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{placeholder:"lebron@james.com...",...i("email",{required:!0}),className:"mb-0 mt-xlarge"}),t&&e.jsx("div",{className:"mt-xsmall w-[318px]",children:e.jsx("span",{className:"inter-small-regular text-rose-50 text-left",children:"We can't find a user with that email address"})}),l&&e.jsx("div",{className:"mt-xsmall w-[318px]",children:e.jsx("span",{className:"inter-small-regular text-rose-50 text-left",children:"Not a valid email address"})}),e.jsx("button",{className:"text-grey-0 w-[320px] h-[48px] border rounded-rounded mt-4 bg-violet-50 inter-base-regular py-3 px-4",type:"submit",children:"Send reset instructions"})]}),e.jsx("span",{className:"inter-small-regular text-grey-50 mt-8 cursor-pointer",onClick:s,children:"Go back to sign in"})]})})},q=()=>{const[s,t]=a.useState(!1);return e.jsxs(N,{children:[e.jsx(S,{title:"Login"}),e.jsx("div",{className:"flex h-full w-full items-center justify-center",children:e.jsx("div",{className:y("flex min-h-[600px] w-[640px] bg-grey-0 rounded-rounded justify-center transition-['min-height'] duration-300",{"min-h-[480px]":s}),children:e.jsxs("div",{className:"flex flex-col pt-12 w-full px-[120px] items-center",children:[e.jsx(w,{}),s?e.jsx(L,{goBack:()=>t(!1)}):e.jsx(E,{toResetPassword:()=>t(!0)})]})})})]})};export{q as default};
